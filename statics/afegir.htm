
<label> Entra el producte a comprar </label>  <br />

<input id="nou_producte" type="text" name="producte" autofocus placeholder="no gastis molt" maxlength="100" "/>

<br />

<a id="button_afegir" class="button_afegir_white" href="#"> Afegir producte </a>
&nbsp;

<script>

$( "#button_afegir" ).click( function() { 

    var my_new_producte = {
        new_prod_descr : $( '#nou_producte' ).val() 
    } ; // my_new_producte
    
    // Verifiquem que el valor del input no sigui null, tingui mes de un caracter, i que els caracters no siguin tots blancs
    
    if ( my_new_producte.new_prod_descr == null || 
         my_new_producte.new_prod_descr.length == 0  || 
         /^\s+$/.test(my_new_producte.new_prod_descr))
    {
        return false;
    }
     
    console.log( "### Han fet click al boto afegir - dades {" + my_new_producte.new_prod_descr + "}." ) ;
  
    console.log( '*** 1.- Demanem al server que inserti el producte a la BBDD.' ) ; 

    $.post( '/insertProducte', my_new_producte, function( page ) {  
	    
        console.log( '*** 2.- Mostrem el resultat.' ) ; 
        
        Posar_Linia_Status( page ) ;
                 
        // Blanquegem el producte insertat
        $( "#nou_producte" ).val('') ;
 
    }) ; // post /insertProducte
 
}) ;// click afegir producte

        
</script>
